var transgator=transgator||{};transgator.utils={forEach:function(t,n,r){if("object"==typeof t)for(var a in t)t.hasOwnProperty(a)&&n.call(r,a,t[a])},getJSON:function(t,n){var r=new XMLHttpRequest;r.open("GET",t+".json"),r.onload=function(){200==r.status?n(null,JSON.parse(r.response)):n(Error(r.statusText))},r.onerror=function(){n(Error("Network error."))},r.send()},assignMapValues:function(t,n,r){var a=[];a=t[r]||[],a.push(n),t[r]=a},generateHashmap:function(t){var n=document.querySelectorAll("["+t.i18n_key+"]"),r={},a=transgator.utils.forEach,o=transgator.utils.assignMapValues,s=[];return a(n,function(n,e){var i=e.getAttribute(t.i18n_key),u=i.split("|"),c=u[0],f=u.slice(1);f.length?a(f,function(t,n){var a=c+"|"+n;o(r,e,a),o(r,e,c)}):(s=r[i]||[],s.push(e),r[i]=s)}),r},setLang:function(t){document.documentElement.setAttribute("lang",t)}},transgator.run=function(t,n,r,a){var o=transgator.utils.forEach;o(t,function(t,r){var a=t.split("|"),o=n[t],s=a[1];o&&o.forEach(function(t){void 0!==s?t.setAttribute(s,r):t.textContent=r})}),transgator.utils.setLang(a)};var Transgator=function(t){return this.config=t,this.hashmap=transgator.utils.generateHashmap(t),this};Transgator.prototype.lang=function(t){if(void 0===t)throw"Must specify a translation lang";var n=this;transgator.utils.getJSON(this.config.i18n_dir+t,function(r,a){if(r)throw"Could not fetch translations";transgator.run(a,n.hashmap,n.config,t)})};